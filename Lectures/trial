/* ================= VIDEO WATCH TRACKER ================= */

const TRACK_KEY = "watched-network-theory"; // CHANGE PER PAGE

let watched = JSON.parse(localStorage.getItem(TRACK_KEY)) || [];

const lectureItems = document.querySelectorAll(".lecture-item");

lectureItems.forEach(item => {
    const btn = item.querySelector(".video-btn");
    const check = item.querySelector(".watch-check");
    const vid = btn.dataset.videoId;

    // restore state
    if (watched.includes(vid)) {
        check.checked = true;
        btn.classList.add("watched");
    }

    // mark watched
    check.addEventListener("change", () => {
        if (check.checked) {
            if (!watched.includes(vid)) {
                watched.push(vid);
            }
            btn.classList.add("watched");
        } else {
            watched = watched.filter(v => v !== vid);
            btn.classList.remove("watched");
        }

        localStorage.setItem(TRACK_KEY, JSON.stringify(watched));
        updateProgress();
    });
});

/* ================= PROGRESS DISPLAY ================= */

const progressText = document.getElementById("lectureProgress");

function updateProgress() {
    const total = lectureItems.length;
    const done = watched.length;
    progressText.textContent = `Progress: ${done} / ${total}`;
}

updateProgress();











ðŸ§© STEP 3: ADD PROGRESS TEXT IN HTML

Place this near the chapter title:

<p id="lectureProgress">Progress: 0 / 0</p>

ðŸ§© STEP 4: OPTIONAL CSS (visual sanity)
.video-btn.watched {
    background: #1b5e20;
    color: #fff;
    opacity: 0.85;
}

.watch-check {
    margin-right: 8px;
    cursor: pointer;
}